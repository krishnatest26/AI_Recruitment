import{a as T}from"./chunk-BXD3TUHJ.js";import{O as g,P as v,R as N}from"./chunk-MIECB3JW.js";import"./chunk-VPK6XION.js";import{Ib as o,Jb as t,Kb as C,Wb as f,fc as n,ib as m,jb as h,la as d,lc as y,oa as p,wb as u}from"./chunk-DIZFMHDL.js";var S={addFormTitle:"Add Control Calendar",editFormTitle:"Edit Control Calendar",saveBtnTitle:"Save Changes",cancelBtnTitle:"Cancel",modalSize:"lg",formControls:[{name:"calno",label:"Payroll Calendar Name",value:"",placeholder:"Payroll Calendar Name",class:"col-md-12 pcname",type:"text",dataType:"string"}]};var b=(()=>{let r=class r{constructor(a){this.addService=a,this.controlCalendarList=[],this.title="Confirmation",this.body="Are you sure you want to proceed?",this.yesLbl="Yes",this.noLbl="No",this.columnArray=[{fieldName:"calno",displayName:"Payroll Calendar No",dataType:"nvarchar",length:20,required:!0,tooltip:"Mandatory, Unique, takes values between 1-99"},{fieldName:"calperD01",displayName:"Period 01",dataType:"nvarchar",length:2,required:!0,tooltip:"Mandatory, Valid Tax Period (Value between 1 \u2013 53 for WEEKLY, 4, 8, 12\u2026...56, 53 for LUNAR, 1 \u2013 12 for MONTHLY, 2, 4, 6, 8\u202652, 53, 54 for FORTNIGHTLY)"},{fieldName:"calperD02",displayName:"02",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD03",displayName:"03",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD04",displayName:"04",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD05",displayName:"05",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD06",displayName:"06",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD07",displayName:"07",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD08",displayName:"08",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD09",displayName:"09",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD10",displayName:"10",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD11",displayName:"11",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD12",displayName:"12",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calperD13",displayName:"13",dataType:"nvarchar",length:2,required:!1,tooltip:"Optional"},{fieldName:"calnotes",displayName:"Payroll Calendar Notes",dataType:"nvarchar",length:"MAX",required:!1,tooltip:"Optional, Payroll Calendar Notes"}],this.api=d(g),this._sdwsToastService=d(N),this.ControlCalendarForm=S}ngOnInit(){this.getControlCalendars(),console.log(this.api.endpoints)}getControlCalendars(){this.api.request("controlCalendarList","GET").subscribe({next:a=>{this.controlCalendarList=a,console.log(a)},error:a=>this._sdwsToastService.showError(a.message)})}addControlCalendar(a){console.log(" add data: ",a),this.api.request("controlCalendarList","POST",a).subscribe({next:e=>{e.message=="Added Successfully."?(this._sdwsToastService.showSuccess("Control Calendar added successfully."),this.addService.closeModal(),this.addService.resetButton()):this._sdwsToastService.showError(e.message)},complete:()=>this.getControlCalendars(),error:e=>this._sdwsToastService.showError(e.message)})}editControlCalendar(a){console.log("edit dataaa: ",a),this.api.request("controlCalendarList","PUT",a).subscribe({next:e=>{console.log("edit resp: ",e),e.message=="Updated Successfully."?(this._sdwsToastService.showSuccess("Control Calendar updated successfully."),this.addService.closeModal(),this.addService.resetButton()):this._sdwsToastService.showError(e.message)},complete:()=>this.getControlCalendars(),error:e=>this._sdwsToastService.showError(e.message)})}deleteControlCalendar(a){console.log(a),console.log("dept id: ",a.payrollcalendarS_ID),this.api.request("deleteControlCalendar","DELETE",void 0,a.payrollcalendarS_ID).subscribe({next:e=>{console.log("response: ",e),e.message=="Deleted Successfully."?this._sdwsToastService.showSuccess("Control Calendar deleted successfully."):this._sdwsToastService.showError(e.message)},error:e=>this._sdwsToastService.showError(e.message),complete:()=>this.getControlCalendars()})}};r.\u0275fac=function(e){return new(e||r)(h(v))},r.\u0275cmp=p({type:r,selectors:[["app-control-calendars"]],standalone:!0,features:[y],decls:17,vars:3,consts:[[1,"card","shadow"],[1,"card-body","p-4"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[3,"tableData","columnArray","form","onAdd","onDelete","onEdit"],[1,"card-footer"]],template:function(e,l){e&1&&(o(0,"div",0)(1,"div",1)(2,"ol",2)(3,"li",3)(4,"a",4),n(5,"Home"),t()(),o(6,"li",3)(7,"a",4),n(8,"Payroll Company Details"),t()(),o(9,"li",5),n(10,"Control Calendars"),t()(),o(11,"p")(12,"strong"),n(13,"Control Calendars"),t(),n(14," are used to group employee calendars data for financial reporting. "),t(),o(15,"app-ngb-table",6),f("onAdd",function(i){return l.addControlCalendar(i)})("onDelete",function(i){return l.deleteControlCalendar(i)})("onEdit",function(i){return l.editControlCalendar(i)}),t(),C(16,"div",7),t()()),e&2&&(m(15),u("tableData",l.controlCalendarList)("columnArray",l.columnArray)("form",l.ControlCalendarForm))},dependencies:[T]});let s=r;return s})(),P=[{path:"",pathMatch:"full",component:b}];export{b as ControlCalendarsComponent,P as FEAT_ROUTES};
