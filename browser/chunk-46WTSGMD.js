import{B as L,C as A,D as O,E as U,F as k,G as q,H as z,I as j,N as H,O as V,P as Q,Q as W,R as G,i as D,l as F,n as P,o as B,p as w,r as M,y as R,z as I}from"./chunk-MIECB3JW.js";import"./chunk-VPK6XION.js";import{Ib as i,Jb as e,Kb as m,Ob as _,Wb as y,Xb as p,ec as N,fc as o,ib as n,jb as u,kb as S,kc as T,la as g,lc as E,mb as x,oa as b,ta as h,ua as C,ub as v,wb as r}from"./chunk-DIZFMHDL.js";var $={addFormTitle:"",editFormTitle:"",saveBtnTitle:"Save Changes",cancelBtnTitle:"",modalSize:"",formControls:[{name:"compaddR1",label:"Address Line 1",value:"",placeholder:"Address Line 1",class:"pconfig col-md-6",type:"text",dataType:"string"}]};var J={addFormTitle:"",editFormTitle:"",saveBtnTitle:"",cancelBtnTitle:"",modalSize:"",formControls:[{name:"payrollid",label:"Payroll ID",value:"",placeholder:"Payroll ID",class:"pconfig col-md-6",type:"text",dataType:"string"},{name:"recalculationrequired",label:"Recalculation Required",value:!1,class:"col-md-6 recalcultaion",type:"checkbox",dataType:"string"},{name:"companyname",label:"Name",value:"",placeholder:"Name",class:"pconfig col-md-6",type:"text",dataType:"string"},{name:"freezehmrcdata",label:"Freeze HMRC data on commit",value:!1,class:"col-md-6 freez",type:"checkbox",dataType:"string"},{name:"companyfrequency",label:"Frequency",value:"",class:"pconfig col-md-6",type:"dropdown",dataType:"string",options:[{value:"A",label:"Annual"},{value:"M",label:"Monthly"},{value:"Q",label:"Quarterly"},{value:"W",label:"Weekly"},{value:"H",label:"Hourly"},{value:"L",label:"Lunar"}]}]};var K={addFormTitle:"Add Cost Code Format",editFormTitle:"Edit Cost Code Format",saveBtnTitle:"Save Changes",cancelBtnTitle:"Cancel",modalSize:"sm",formControls:[{name:"costcodeanind",label:"Format Option",value:"",placeholder:"",class:"pconfig col-md-6",type:"text",dataType:"string"}]};function Y(l,s){if(l&1){let d=_();i(0,"div",12)(1,"div",13)(2,"div",14)(3,"app-dynamic-form",23),y("onEdit",function(a){h(d);let c=p();return C(c.editBaseDetails(a))}),e()()()()}if(l&2){let d=p();n(3),r("form",d.payrollConfigBaseDataForm)("data",d.filteredRecord)}}function Z(l,s){if(l&1&&(i(0,"div",12)(1,"div",13)(2,"div",14),m(3,"app-dynamic-form",15),e()()()),l&2){let d=p();n(3),r("form",d.costCodeformatForm)("data",d.filteredRecord)}}var ee=(()=>{let s=class s{constructor(t,a){this.addService=t,this.cdr=a,this.onEdit=new x,this.payrollConfigForm=J,this.payrollConfigBaseDataForm=$,this.costCodeformatForm=K,this.baseDataList=[],this.api=g(V),this._sdwsToastService=g(G),this.selectedPayroll="6f9619ff-8b86-d011-b42d-00c04fc964ff",this.data=[]}ngOnInit(){this.getBaseDetails(),console.log(this.api.endpoints),this.addService.editBaseDetails$.subscribe(t=>{this.editBaseDetails(t),console.log("Received data from onEdit event:",t)})}getBaseDetails(){this.api.request("baseDetailsList","GET").subscribe({next:t=>{this.baseDataList=t,console.log(t),this.filteredRecord=this.baseDataList.find(a=>a.payrollcompanydetailS_ID.toUpperCase()===this.selectedPayroll.toUpperCase()),console.log("getFilteredrecord",this.filteredRecord),this.addService.setData(this.filteredRecord)},error:t=>{this._sdwsToastService.showError(t.message)}})}editBaseDetails(t){console.log("edit dataaa: ",t),this.api.request("baseDetailsList","PUT",t).subscribe({next:a=>{console.log("edit resp: ",a),a.message=="Updated Successfully."?this._sdwsToastService.showSuccess("Updated Successfully."):(this._sdwsToastService.showError(a.message),console.log(a.message))},complete:()=>this.getBaseDetails(),error:a=>this._sdwsToastService.showError(a.message)})}changePayroll(){console.log(this.selectedPayroll),this.filteredRecord=this.baseDataList.find(t=>t.payrollcompanydetailS_ID.toUpperCase()===this.selectedPayroll.toUpperCase()),console.log(this.filteredRecord),this.addService.setData(this.filteredRecord)}};s.\u0275fac=function(a){return new(a||s)(u(Q),u(S))},s.\u0275cmp=b({type:s,selectors:[["app-payroll-configuration"]],outputs:{onEdit:"onEdit"},standalone:!0,features:[T([I]),E],decls:43,vars:7,consts:[[1,"card","shadow"],[1,"card-body","p-4"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"form-group","row","col-md-4"],[1,"col-md-auto","col-form-label","text-end"],[1,"col-md-7"],["aria-label","Default select example",1,"form-select",2,"margin-left","13px",3,"ngModel","change","ngModelChange"],["value","6f9619ff-8b86-d011-b42d-00c04fc964ff"],["value","d1d191f3-f362-4779-b5de-0d884ca1a3d9"],[1,"card","my-3","custom-border"],[1,"card-body","d-flex"],[1,"d-flex","align-items-center","flex-row","justify-content-start","mb-3"],[3,"form","data"],["ngbNav","",1,"nav-tabs",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"card-footer"],[3,"form","data","onEdit"]],template:function(a,c){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"ol",2)(3,"li",3)(4,"a",4),o(5,"Home"),e()(),i(6,"li",3)(7,"a",4),o(8,"Payroll Company Details"),e()(),i(9,"li",5),o(10,"Payroll Configuration"),e()(),i(11,"p")(12,"strong"),o(13,"Payroll Configuration"),e(),o(14," are used to populate employee data for financial reporting. "),e(),i(15,"div",6)(16,"label",7),o(17,"Payroll Number: "),e(),i(18,"div",8)(19,"select",9),y("change",function(){return c.changePayroll()})("ngModelChange",function(X){return c.selectedPayroll=X}),i(20,"option",10),o(21,"981141 - PandaBots 1"),e(),i(22,"option",11),o(23,"981142 - PandaBots 2"),e()()()(),i(24,"div",12)(25,"div",13)(26,"div",14),m(27,"app-dynamic-form",15),e()()(),i(28,"ul",16,17),m(30,"br"),i(31,"li",18)(32,"button",19),o(33,"Base Data"),e(),v(34,Y,4,2,"ng-template",20),e(),i(35,"li",18)(36,"button",19)(37,"b"),o(38,"Cost Code "),e(),o(39," Format"),e(),v(40,Z,4,2,"ng-template",20),e()(),m(41,"div",21)(42,"div",22),e()()),a&2){let f=N(29);n(19),r("ngModel",c.selectedPayroll),n(8),r("form",c.payrollConfigForm)("data",c.filteredRecord),n(),r("activeId",1),n(3),r("ngbNavItem",1),n(4),r("ngbNavItem",2),n(6),r("ngbNavOutlet",f)}},dependencies:[W,M,B,w,P,D,F,H,L,U,O,A,q,k,z,j,R],styles:["input.form-control.payrollconfig,   select.form-select.pconfig{height:fit-content;width:inherit;position:relative;margin-left:135px;margin-top:-32px}  span.text-danger.pconfigspan{margin-left:135px}  input.col-md-6.terminate{margin-left:25px}  input.col-md-6.recalcultaion{margin-left:43px}"]});let l=s;return l})(),he=[{path:"",pathMatch:"full",component:ee}];export{he as FEAT_ROUTES,ee as PayrollConfigurationComponent};
