import{a as p,b as E}from"./chunk-TCMAMEMQ.js";import{a as y}from"./chunk-BXD3TUHJ.js";import{O as _,P as D,R as w,z as d}from"./chunk-MIECB3JW.js";import"./chunk-VPK6XION.js";import{Ib as o,Jb as s,Kb as v,Wb as S,fc as a,ib as h,jb as m,kc as b,lc as g,oa as u,wb as f}from"./chunk-DIZFMHDL.js";var T=(()=>{let i=class i{constructor(t,e,r){this.activeModal=t,this.addService=e,this.formService=r,this.departmentList=[],this.title="Confirmation",this.body="Are you sure you want to proceed?",this.yesLbl="Yes",this.noLbl="No",this.columnArray=[],this.api=new _,this._sdwsToastService=new w,this.departmentForm=p}ngOnInit(){this.columnArray=this.formService.buildColumnArray(p),this.getDepartments()}getDepartments(){this.api.request("departmentList","GET").subscribe({next:t=>{this.departmentList=t},error:t=>this._sdwsToastService.showError(t.message)})}addDepartment(t){this.api.request("departmentList","POST",t).subscribe({next:e=>{e.message=="Added Successfully"?(this._sdwsToastService.showSuccess("Department added successfully."),this.addService.closeModal()):this._sdwsToastService.showError(e.message)},complete:()=>this.getDepartments(),error:e=>this._sdwsToastService.showError(e.message)})}editDepartment(t){this.api.request("departmentList","PUT",t).subscribe({next:e=>{console.log("edit resp: ",e),e.message=="Updated Successfully"?(this._sdwsToastService.showSuccess("Department updated successfully."),this.addService.closeModal()):this._sdwsToastService.showError(e.message)},complete:()=>this.getDepartments(),error:e=>this._sdwsToastService.showError(e.message)})}deleteDepartment(t){console.log("dept id: ",t.payrolldepartmentS_ID),this.api.request("deleteDepartment","DELETE",void 0,t.payrolldepartmentS_ID).subscribe({next:e=>{console.log("response: ",e),e.message=="Deleted Successfully"?this._sdwsToastService.showSuccess("Department deleted successfully."):this._sdwsToastService.showError(e.message)},error:e=>this._sdwsToastService.showError(e.message),complete:()=>this.getDepartments()})}};i.\u0275fac=function(e){return new(e||i)(m(d),m(D),m(E))},i.\u0275cmp=u({type:i,selectors:[["app-departments"]],standalone:!0,features:[b([d]),g],decls:17,vars:3,consts:[[1,"card","shadow"],[1,"card-body","p-4"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[3,"tableData","columnArray","form","onAdd","onDelete","onEdit"],[1,"card-footer"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"ol",2)(3,"li",3)(4,"a",4),a(5,"Home"),s()(),o(6,"li",3)(7,"a",4),a(8,"Payroll Company Details"),s()(),o(9,"li",5),a(10,"Departments"),s()(),o(11,"p")(12,"strong"),a(13,"Payroll departments"),s(),a(14," are used to group employee data for financial reporting. "),s(),o(15,"app-ngb-table",6),S("onAdd",function(n){return r.addDepartment(n)})("onDelete",function(n){return r.deleteDepartment(n)})("onEdit",function(n){return r.editDepartment(n)}),s(),v(16,"div",7),s()()),e&2&&(h(15),f("tableData",r.departmentList)("columnArray",r.columnArray)("form",r.departmentForm))},dependencies:[y],styles:["label.col-form-label[_ngcontent-%COMP%]{text-align:left}"]});let l=i;return l})(),q=[{path:"",pathMatch:"full",component:T}];export{T as DepartmentsComponent,q as FEAT_ROUTES};
